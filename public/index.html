<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZeySense Hub - Minecraft AFK Bot System</title>
  <meta name="description" content="ZeySense Hub - Premium Minecraft AFK Bot sistemi ve gelişmiş hesap yönetimi. GameSense tarzı premium panel deneyimi.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Rajdhani:wght@600;700&display=swap" rel="stylesheet">
  <style>
    /* ===== THEME SYSTEM - 15 PREMIUM THEMES ===== */
    
    /* 1. Dark Theme (Default) - Siyah ve koyu gri */
    :root, [data-theme="dark"] {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-card: #1a1a24;
      --bg-hover: #22222e;
      --accent: #00ff88;
      --accent-dim: #00cc6a;
      --accent-glow: rgba(0, 255, 136, 0.3);
      --text-primary: #ffffff;
      --text-secondary: #a0a0b0;
      --text-muted: #606070;
      --border: #2a2a3a;
      --danger: #ff4444;
      --warning: #ffaa00;
      --success: #00ff88;
      --owner-gold: #ffd700;
      --admin-green: #00ff88;
      --member-gray: #808090;
      --glass-bg: rgba(26, 26, 36, 0.8);
      --glass-border: rgba(255, 255, 255, 0.1);
      --gradient-start: #0a0a0f;
      --gradient-end: #12121a;
      --animation-speed: 0.2s;
      --card-scale: 1;
      --card-padding: 24px;
      --font-size-base: 14px;
    }

    /* 2. Light Theme - Beyaz ve açık tonlar */
    [data-theme="light"] {
      --bg-primary: #f5f5f7;
      --bg-secondary: #ffffff;
      --bg-card: #ffffff;
      --bg-hover: #e8e8ec;
      --accent: #00b368;
      --accent-dim: #009955;
      --accent-glow: rgba(0, 179, 104, 0.2);
      --text-primary: #1a1a2e;
      --text-secondary: #5a5a6e;
      --text-muted: #8a8a9e;
      --border: #d0d0dc;
      --danger: #dc3545;
      --warning: #f0a000;
      --success: #00b368;
      --owner-gold: #c9a000;
      --admin-green: #00b368;
      --member-gray: #6a6a7e;
      --glass-bg: rgba(255, 255, 255, 0.9);
      --glass-border: rgba(0, 0, 0, 0.1);
      --gradient-start: #f5f5f7;
      --gradient-end: #e0e0e5;
    }

    /* 3. Neon Theme - Mor, mavi ve neon vurgular */
    [data-theme="neon"] {
      --bg-primary: #0d001a;
      --bg-secondary: #150028;
      --bg-card: #1f0038;
      --bg-hover: #2a004d;
      --accent: #ff00ff;
      --accent-dim: #cc00cc;
      --accent-glow: rgba(255, 0, 255, 0.4);
      --text-primary: #ffffff;
      --text-secondary: #c0a0d0;
      --text-muted: #8060a0;
      --border: #4a0080;
      --danger: #ff0066;
      --warning: #ffcc00;
      --success: #00ffcc;
      --owner-gold: #ffcc00;
      --admin-green: #00ffcc;
      --member-gray: #9080a0;
      --glass-bg: rgba(31, 0, 56, 0.85);
      --glass-border: rgba(255, 0, 255, 0.2);
      --gradient-start: #0d001a;
      --gradient-end: #1a0033;
    }

    /* 4. Cyber Theme - Matrix tarzı yeşil */
    [data-theme="cyber"] {
      --bg-primary: #000a00;
      --bg-secondary: #001400;
      --bg-card: #002000;
      --bg-hover: #003000;
      --accent: #00ff00;
      --accent-dim: #00cc00;
      --accent-glow: rgba(0, 255, 0, 0.4);
      --text-primary: #00ff00;
      --text-secondary: #00cc00;
      --text-muted: #008800;
      --border: #004400;
      --danger: #ff0000;
      --warning: #ffff00;
      --success: #00ff00;
      --owner-gold: #ffff00;
      --admin-green: #00ff00;
      --member-gray: #00aa00;
      --glass-bg: rgba(0, 32, 0, 0.9);
      --glass-border: rgba(0, 255, 0, 0.2);
      --gradient-start: #000a00;
      --gradient-end: #001a00;
    }

    /* 5. Glassmorphism Theme - Cam efekti */
    [data-theme="glass"] {
      --bg-primary: #1a1a2e;
      --bg-secondary: rgba(30, 30, 60, 0.6);
      --bg-card: rgba(40, 40, 80, 0.4);
      --bg-hover: rgba(60, 60, 100, 0.5);
      --accent: #667eea;
      --accent-dim: #5a67d8;
      --accent-glow: rgba(102, 126, 234, 0.4);
      --text-primary: #ffffff;
      --text-secondary: #b0b8d0;
      --text-muted: #7080a0;
      --border: rgba(255, 255, 255, 0.15);
      --danger: #fc5c65;
      --warning: #fed330;
      --success: #26de81;
      --owner-gold: #fed330;
      --admin-green: #26de81;
      --member-gray: #8090a0;
      --glass-bg: rgba(40, 40, 80, 0.3);
      --glass-border: rgba(255, 255, 255, 0.2);
      --gradient-start: #1a1a2e;
      --gradient-end: #2d2d5e;
    }

    /* 6. Minimal Theme - Düz renkler, az animasyon */
    [data-theme="minimal"] {
      --bg-primary: #1c1c1c;
      --bg-secondary: #242424;
      --bg-card: #2c2c2c;
      --bg-hover: #363636;
      --accent: #ffffff;
      --accent-dim: #e0e0e0;
      --accent-glow: rgba(255, 255, 255, 0.1);
      --text-primary: #ffffff;
      --text-secondary: #b0b0b0;
      --text-muted: #707070;
      --border: #404040;
      --danger: #e74c3c;
      --warning: #f1c40f;
      --success: #2ecc71;
      --owner-gold: #f1c40f;
      --admin-green: #2ecc71;
      --member-gray: #808080;
      --glass-bg: rgba(44, 44, 44, 0.95);
      --glass-border: rgba(255, 255, 255, 0.05);
      --gradient-start: #1c1c1c;
      --gradient-end: #1c1c1c;
      --animation-speed: 0s;
    }

    /* 7. Red Gaming Theme - Kırmızı-siyah e-spor */
    [data-theme="red-gaming"] {
      --bg-primary: #0a0a0a;
      --bg-secondary: #121212;
      --bg-card: #1a1a1a;
      --bg-hover: #2a1515;
      --accent: #ff0040;
      --accent-dim: #cc0033;
      --accent-glow: rgba(255, 0, 64, 0.4);
      --text-primary: #ffffff;
      --text-secondary: #c0a0a0;
      --text-muted: #806060;
      --border: #3a1a1a;
      --danger: #ff0040;
      --warning: #ff8800;
      --success: #00ff88;
      --owner-gold: #ffd700;
      --admin-green: #00ff88;
      --member-gray: #908080;
      --glass-bg: rgba(26, 26, 26, 0.9);
      --glass-border: rgba(255, 0, 64, 0.2);
      --gradient-start: #0a0a0a;
      --gradient-end: #1a0a0a;
    }

    /* 8. Blue Tech Theme - Mavi tonlar, yazılım paneli */
    [data-theme="blue-tech"] {
      --bg-primary: #0a0f1a;
      --bg-secondary: #0d1520;
      --bg-card: #141e2d;
      --bg-hover: #1a2840;
      --accent: #0080ff;
      --accent-dim: #0066cc;
      --accent-glow: rgba(0, 128, 255, 0.3);
      --text-primary: #e0f0ff;
      --text-secondary: #8090b0;
      --text-muted: #506080;
      --border: #203050;
      --danger: #ff4060;
      --warning: #ffaa00;
      --success: #00dd88;
      --owner-gold: #ffc800;
      --admin-green: #00dd88;
      --member-gray: #607090;
      --glass-bg: rgba(20, 30, 45, 0.9);
      --glass-border: rgba(0, 128, 255, 0.15);
      --gradient-start: #0a0f1a;
      --gradient-end: #0f1828;
    }

    /* 9. Gradient Theme - Yumuşak geçişli renkler */
    [data-theme="gradient"] {
      --bg-primary: #1a1a2e;
      --bg-secondary: #16213e;
      --bg-card: #0f3460;
      --bg-hover: #1a4080;
      --accent: #e94560;
      --accent-dim: #c93050;
      --accent-glow: rgba(233, 69, 96, 0.3);
      --text-primary: #ffffff;
      --text-secondary: #b0c0d0;
      --text-muted: #6080a0;
      --border: #2a4a6a;
      --danger: #e94560;
      --warning: #ffcc00;
      --success: #00d4aa;
      --owner-gold: #ffcc00;
      --admin-green: #00d4aa;
      --member-gray: #7090a0;
      --glass-bg: rgba(15, 52, 96, 0.8);
      --glass-border: rgba(233, 69, 96, 0.2);
      --gradient-start: #1a1a2e;
      --gradient-end: #16213e;
    }

    /* 10. Custom Theme - Kullanıcı seçimli */
    [data-theme="custom"] {
      --bg-primary: var(--custom-bg-primary, #0a0a0f);
      --bg-secondary: var(--custom-bg-secondary, #12121a);
      --bg-card: var(--custom-bg-card, #1a1a24);
      --bg-hover: var(--custom-bg-hover, #22222e);
      --accent: var(--custom-accent, #ff6b00);
      --accent-dim: var(--custom-accent-dim, #cc5500);
      --accent-glow: var(--custom-accent-glow, rgba(255, 107, 0, 0.3));
      --text-primary: #ffffff;
      --text-secondary: #a0a0b0;
      --text-muted: #606070;
      --border: #2a2a3a;
      --danger: #ff4444;
      --warning: #ffaa00;
      --success: var(--custom-accent, #ff6b00);
      --owner-gold: #ffd700;
      --admin-green: var(--custom-accent, #ff6b00);
      --member-gray: #808090;
      --glass-bg: rgba(26, 26, 36, 0.85);
      --glass-border: var(--custom-accent-glow, rgba(255, 107, 0, 0.2));
      --gradient-start: #0a0a0f;
      --gradient-end: #12121a;
    }

    /* 11. Animated Theme - Hover ve geçiş animasyonları */
    [data-theme="animated"] {
      --bg-primary: #0f0f1a;
      --bg-secondary: #15152a;
      --bg-card: #1c1c35;
      --bg-hover: #252545;
      --accent: #00d4ff;
      --accent-dim: #00a8cc;
      --accent-glow: rgba(0, 212, 255, 0.4);
      --text-primary: #ffffff;
      --text-secondary: #a0b0c0;
      --text-muted: #607080;
      --border: #303050;
      --danger: #ff4466;
      --warning: #ffcc00;
      --success: #00ffaa;
      --owner-gold: #ffd700;
      --admin-green: #00ffaa;
      --member-gray: #8090a0;
      --glass-bg: rgba(28, 28, 53, 0.9);
      --glass-border: rgba(0, 212, 255, 0.2);
      --gradient-start: #0f0f1a;
      --gradient-end: #1a1a30;
      --animation-speed: 0.4s;
    }

    /* 12. Mobile Theme - Telefon uyumlu responsive */
    [data-theme="mobile"] {
      --bg-primary: #0d0d12;
      --bg-secondary: #14141c;
      --bg-card: #1a1a24;
      --bg-hover: #22222e;
      --accent: #00cc88;
      --accent-dim: #00aa70;
      --accent-glow: rgba(0, 204, 136, 0.3);
      --text-primary: #ffffff;
      --text-secondary: #a8a8b8;
      --text-muted: #686878;
      --border: #2a2a3a;
      --danger: #ff5050;
      --warning: #ffaa00;
      --success: #00cc88;
      --owner-gold: #ffd700;
      --admin-green: #00cc88;
      --member-gray: #888898;
      --glass-bg: rgba(26, 26, 36, 0.9);
      --glass-border: rgba(0, 204, 136, 0.15);
      --gradient-start: #0d0d12;
      --gradient-end: #14141c;
      --card-padding: 16px;
      --font-size-base: 15px;
    }

    /* 13. Compact Theme - Daha küçük kartlar */
    [data-theme="compact"] {
      --bg-primary: #08080c;
      --bg-secondary: #0c0c12;
      --bg-card: #101018;
      --bg-hover: #18181f;
      --accent: #00dd77;
      --accent-dim: #00bb66;
      --accent-glow: rgba(0, 221, 119, 0.25);
      --text-primary: #e8e8f0;
      --text-secondary: #909098;
      --text-muted: #505058;
      --border: #202028;
      --danger: #ff4040;
      --warning: #ffaa00;
      --success: #00dd77;
      --owner-gold: #ffd700;
      --admin-green: #00dd77;
      --member-gray: #707078;
      --glass-bg: rgba(16, 16, 24, 0.95);
      --glass-border: rgba(0, 221, 119, 0.1);
      --gradient-start: #08080c;
      --gradient-end: #0c0c12;
      --card-scale: 0.9;
      --card-padding: 16px;
      --font-size-base: 13px;
    }

    /* 14. Classic Theme - Eski panel tarzı nostaljik */
    [data-theme="classic"] {
      --bg-primary: #2c2c34;
      --bg-secondary: #34343c;
      --bg-card: #3c3c44;
      --bg-hover: #44444c;
      --accent: #4a90d9;
      --accent-dim: #3a80c9;
      --accent-glow: rgba(74, 144, 217, 0.2);
      --text-primary: #e0e0e8;
      --text-secondary: #a8a8b0;
      --text-muted: #707078;
      --border: #50505a;
      --danger: #c94040;
      --warning: #c9a040;
      --success: #40c980;
      --owner-gold: #c9a040;
      --admin-green: #40c980;
      --member-gray: #888890;
      --glass-bg: rgba(60, 60, 68, 0.95);
      --glass-border: rgba(74, 144, 217, 0.15);
      --gradient-start: #2c2c34;
      --gradient-end: #34343c;
    }

    /* 15. Transparent Theme - Yarı saydam paneller */
    [data-theme="transparent"] {
      --bg-primary: rgba(10, 10, 15, 0.85);
      --bg-secondary: rgba(18, 18, 26, 0.75);
      --bg-card: rgba(26, 26, 36, 0.65);
      --bg-hover: rgba(34, 34, 46, 0.75);
      --accent: #a855f7;
      --accent-dim: #9333ea;
      --accent-glow: rgba(168, 85, 247, 0.35);
      --text-primary: #ffffff;
      --text-secondary: #c0b0d0;
      --text-muted: #8070a0;
      --border: rgba(168, 85, 247, 0.25);
      --danger: #f472b6;
      --warning: #fbbf24;
      --success: #34d399;
      --owner-gold: #fbbf24;
      --admin-green: #34d399;
      --member-gray: #a090b0;
      --glass-bg: rgba(26, 26, 36, 0.5);
      --glass-border: rgba(168, 85, 247, 0.3);
      --gradient-start: rgba(10, 10, 15, 0.9);
      --gradient-end: rgba(30, 15, 45, 0.9);
    }

    /* ===== THEME-SPECIFIC ENHANCEMENTS ===== */
    
    /* Glass theme specific styles */
    [data-theme="glass"] .card,
    [data-theme="glass"] .modal,
    [data-theme="glass"] .navbar,
    [data-theme="glass"] .sidebar-nav,
    [data-theme="transparent"] .card,
    [data-theme="transparent"] .modal,
    [data-theme="transparent"] .navbar,
    [data-theme="transparent"] .sidebar-nav {
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    /* Cyber theme font override */
    [data-theme="cyber"] {
      font-family: 'JetBrains Mono', 'Courier New', monospace !important;
    }
    [data-theme="cyber"] .font-display {
      font-family: 'JetBrains Mono', monospace !important;
      text-shadow: 0 0 10px var(--accent);
    }
    [data-theme="cyber"] .hero-title {
      text-shadow: 0 0 30px var(--accent), 0 0 60px var(--accent);
    }

    /* Neon theme glow effects */
    [data-theme="neon"] .btn-primary,
    [data-theme="neon"] .accent,
    [data-theme="neon"] .navbar-logo {
      box-shadow: 0 0 20px var(--accent-glow), 0 0 40px var(--accent-glow);
    }
    [data-theme="neon"] .hero-title {
      text-shadow: 0 0 30px var(--accent), 0 0 60px rgba(0, 255, 255, 0.5);
      animation: neonPulse 2s ease-in-out infinite;
    }
    @keyframes neonPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.85; }
    }

    /* Animated theme transitions */
    [data-theme="animated"] * {
      transition: all var(--animation-speed, 0.4s) cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    [data-theme="animated"] .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
    }
    [data-theme="animated"] .btn:hover {
      transform: translateY(-2px) scale(1.05);
    }
    [data-theme="animated"] .hero-title {
      animation: floatTitle 3s ease-in-out infinite;
    }
    @keyframes floatTitle {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* Minimal theme - remove animations */
    [data-theme="minimal"] * {
      transition: none !important;
      animation: none !important;
    }
    [data-theme="minimal"] .btn:hover {
      transform: none;
    }

    /* Compact theme sizing */
    [data-theme="compact"] .card {
      padding: var(--card-padding, 16px);
    }
    [data-theme="compact"] .bot-grid {
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 12px;
    }
    [data-theme="compact"] .hero-title {
      font-size: 48px;
    }
    [data-theme="compact"] .page-title {
      font-size: 28px;
    }
    [data-theme="compact"] body {
      font-size: var(--font-size-base, 13px);
    }

    /* Mobile theme responsive */
    [data-theme="mobile"] .card {
      padding: var(--card-padding, 16px);
      border-radius: 16px;
    }
    [data-theme="mobile"] .btn {
      padding: 14px 24px;
      font-size: 15px;
    }
    [data-theme="mobile"] body {
      font-size: var(--font-size-base, 15px);
    }

    /* Gradient theme background */
    [data-theme="gradient"] body {
      background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 50%, #0f3460 100%);
    }
    [data-theme="gradient"] .hero::before {
      background: 
        radial-gradient(circle at 20% 50%, rgba(233, 69, 96, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 50%, rgba(0, 212, 170, 0.2) 0%, transparent 50%);
    }

    /* Red Gaming theme effects */
    [data-theme="red-gaming"] .hero::before {
      background: 
        radial-gradient(circle at 30% 40%, rgba(255, 0, 64, 0.25) 0%, transparent 50%),
        radial-gradient(circle at 70% 60%, rgba(255, 100, 0, 0.15) 0%, transparent 50%);
    }
    [data-theme="red-gaming"] .btn-primary {
      background: linear-gradient(135deg, #ff0040, #cc0033);
    }

    /* Blue Tech theme effects */
    [data-theme="blue-tech"] .hero::before {
      background: 
        radial-gradient(circle at 25% 45%, rgba(0, 128, 255, 0.25) 0%, transparent 50%),
        radial-gradient(circle at 75% 55%, rgba(0, 200, 255, 0.15) 0%, transparent 50%);
    }
    [data-theme="blue-tech"] .navbar-logo,
    [data-theme="blue-tech"] .auth-logo {
      background: linear-gradient(135deg, #0080ff, #00c8ff);
    }

    /* Transparent theme background */
    [data-theme="transparent"] body {
      background: linear-gradient(135deg, #0a0a0f 0%, #1a0a20 50%, #0a1020 100%);
      background-attachment: fixed;
    }

    /* ===== THEME SELECTOR STYLES ===== */
    .theme-selector-wrapper {
      position: relative;
    }

    .theme-btn {
      background: var(--bg-card);
      border: 1px solid var(--border);
      color: var(--text-primary);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      transition: all 0.2s;
    }

    .theme-btn:hover {
      border-color: var(--accent);
      background: var(--bg-hover);
    }

    .theme-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 8px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 8px;
      min-width: 220px;
      max-height: 400px;
      overflow-y: auto;
      z-index: 1001;
      display: none;
      box-shadow: 0 10px 40px rgba(0,0,0,0.4);
    }

    .theme-dropdown.show {
      display: block;
    }

    .theme-option {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .theme-option:hover {
      background: var(--bg-hover);
    }

    .theme-option.active {
      background: rgba(0, 255, 136, 0.1);
      border-left: 3px solid var(--accent);
    }

    .theme-preview {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      border: 2px solid var(--border);
      flex-shrink: 0;
    }

    .theme-name {
      font-size: 13px;
      color: var(--text-primary);
    }

    .theme-desc {
      font-size: 11px;
      color: var(--text-muted);
    }

    /* Custom color picker */
    .custom-color-section {
      padding: 12px;
      border-top: 1px solid var(--border);
      margin-top: 8px;
    }

    .color-picker-row {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 8px;
    }

    .color-picker-row input[type="color"] {
      width: 40px;
      height: 32px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: transparent;
    }

    .color-picker-row span {
      font-size: 12px;
      color: var(--text-secondary);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .font-display { font-family: 'Rajdhani', sans-serif; }
    .font-mono { font-family: 'JetBrains Mono', monospace; }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
    }

    .btn-primary {
      background: var(--accent);
      color: var(--bg-primary);
    }

    .btn-primary:hover {
      background: var(--accent-dim);
      box-shadow: 0 0 20px var(--accent-glow);
    }

    .btn-secondary {
      background: var(--bg-card);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: var(--bg-hover);
      border-color: var(--accent);
    }

    .btn-danger {
      background: var(--danger);
      color: white;
    }

    .btn-small {
      padding: 8px 16px;
      font-size: 12px;
    }

    .btn-icon {
      width: 40px;
      height: 40px;
      padding: 0;
      border-radius: 8px;
    }

    .input {
      width: 100%;
      padding: 14px 16px;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-primary);
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      transition: all 0.2s ease;
    }

    .input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px var(--accent-glow);
    }

    .input::placeholder {
      color: var(--text-muted);
    }

    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .badge-owner {
      background: rgba(255, 215, 0, 0.2);
      color: var(--owner-gold);
      border: 1px solid var(--owner-gold);
    }

    .badge-admin {
      background: rgba(0, 255, 136, 0.2);
      color: var(--admin-green);
      border: 1px solid var(--admin-green);
    }

    .badge-member {
      background: rgba(128, 128, 144, 0.2);
      color: var(--member-gray);
      border: 1px solid var(--member-gray);
    }

    .badge-online {
      background: rgba(0, 255, 136, 0.2);
      color: var(--success);
    }

    .badge-offline {
      background: rgba(255, 68, 68, 0.2);
      color: var(--danger);
    }

    .hidden { display: none !important; }

    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 70px;
      background: rgba(10, 10, 15, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      z-index: 1000;
      display: flex;
      align-items: center;
    }

    .navbar .container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .navbar-logo {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--accent), var(--accent-dim));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      font-size: 20px;
      color: var(--bg-primary);
    }

    .navbar-title {
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      font-size: 24px;
      color: var(--text-primary);
    }

    .navbar-nav {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-link {
      padding: 10px 16px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .nav-link:hover, .nav-link.active {
      color: var(--accent);
      background: rgba(0, 255, 136, 0.1);
    }

    .navbar-user {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .user-avatar {
      width: 36px;
      height: 36px;
      background: var(--bg-hover);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
      color: var(--accent);
      border: 2px solid var(--accent);
    }

    .main-content {
      padding-top: 90px;
      min-height: 100vh;
    }

    .hero {
      position: relative;
      padding: 100px 0;
      text-align: center;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 50%, var(--accent-glow) 0%, transparent 50%),
        radial-gradient(circle at 80% 50%, rgba(0, 100, 255, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero-title {
      font-family: 'Rajdhani', sans-serif;
      font-size: 72px;
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, var(--text-primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: 20px;
      color: var(--text-secondary);
      margin-bottom: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .stats-bar {
      display: flex;
      justify-content: center;
      gap: 48px;
      margin-top: 60px;
      padding: 24px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-family: 'Rajdhani', sans-serif;
      font-size: 36px;
      font-weight: 700;
      color: var(--accent);
    }

    .stat-label {
      font-size: 14px;
      color: var(--text-secondary);
      margin-top: 4px;
    }

    .page {
      padding: 40px 0;
    }

    .page-header {
      margin-bottom: 32px;
    }

    .page-title {
      font-family: 'Rajdhani', sans-serif;
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .page-subtitle {
      color: var(--text-secondary);
      font-size: 16px;
    }

    .auth-container {
      max-width: 420px;
      margin: 0 auto;
      padding: 40px 0;
    }

    .auth-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 40px;
    }

    .auth-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .auth-logo {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, var(--accent), var(--accent-dim));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      font-size: 28px;
      color: var(--bg-primary);
      margin: 0 auto 16px;
      box-shadow: 0 0 30px var(--accent-glow);
    }

    .auth-title {
      font-family: 'Rajdhani', sans-serif;
      font-size: 28px;
      font-weight: 700;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .form-error {
      color: var(--danger);
      font-size: 12px;
      margin-top: 6px;
    }

    .auth-footer {
      text-align: center;
      margin-top: 24px;
      color: var(--text-secondary);
      font-size: 14px;
    }

    .auth-footer a {
      color: var(--accent);
      text-decoration: none;
    }

    .auth-footer a:hover {
      text-decoration: underline;
    }

    .sidebar-layout {
      display: flex;
      gap: 24px;
    }

    .sidebar {
      width: 280px;
      flex-shrink: 0;
    }

    .sidebar-nav {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      position: sticky;
      top: 90px;
    }

    .sidebar-section {
      margin-bottom: 24px;
    }

    .sidebar-section:last-child {
      margin-bottom: 0;
    }

    .sidebar-title {
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
      padding: 0 12px;
    }

    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      color: var(--text-secondary);
      text-decoration: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .sidebar-link:hover {
      background: var(--bg-hover);
      color: var(--text-primary);
    }

    .sidebar-link.active {
      background: rgba(0, 255, 136, 0.1);
      color: var(--accent);
      border-left: 3px solid var(--accent);
      margin-left: -3px;
    }

    .sidebar-link svg {
      width: 20px;
      height: 20px;
    }

    .content-area {
      flex: 1;
      min-width: 0;
    }

    .profile-header {
      display: flex;
      align-items: flex-start;
      gap: 24px;
      padding: 32px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      margin-bottom: 24px;
    }

    .profile-avatar {
      width: 120px;
      height: 120px;
      background: var(--bg-hover);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      font-size: 48px;
      color: var(--accent);
      border: 4px solid var(--accent);
      flex-shrink: 0;
    }

    .profile-info {
      flex: 1;
    }

    .profile-name {
      font-family: 'Rajdhani', sans-serif;
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .profile-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 16px;
    }

    .profile-meta-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .profile-bio {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.6;
    }

    .profile-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
    }

    .profile-stat {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .profile-stat-value {
      font-family: 'Rajdhani', sans-serif;
      font-size: 28px;
      font-weight: 700;
      color: var(--accent);
    }

    .profile-stat-label {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 4px;
    }

    .achievements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 24px;
    }

    .achievement-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      transition: all 0.2s ease;
    }

    .achievement-card:hover {
      border-color: var(--accent);
      transform: translateY(-2px);
    }

    .achievement-icon {
      width: 48px;
      height: 48px;
      margin: 0 auto 12px;
      background: var(--bg-hover);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .achievement-name {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .achievement-desc {
      font-size: 12px;
      color: var(--text-secondary);
    }

    .bot-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 20px;
    }

    .bot-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      transition: all 0.2s ease;
    }

    .bot-card:hover {
      border-color: var(--accent);
    }

    .bot-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .bot-name {
      font-weight: 600;
      font-size: 18px;
    }

    .bot-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .status-dot.online {
      background: var(--success);
      box-shadow: 0 0 8px var(--success);
      animation: pulse 2s infinite;
    }

    .status-dot.offline {
      background: var(--text-muted);
    }

    .status-dot.reconnecting {
      background: var(--warning);
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .bot-info {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 20px;
    }

    .bot-info-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .bot-info-label {
      font-size: 12px;
      color: var(--text-muted);
    }

    .bot-info-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 14px;
      color: var(--text-primary);
    }

    .bot-actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .bot-logs {
      margin-top: 16px;
      max-height: 150px;
      overflow-y: auto;
      background: var(--bg-secondary);
      border-radius: 8px;
      padding: 12px;
    }

    .bot-log-entry {
      font-family: 'JetBrains Mono', monospace;
      font-size: 11px;
      color: var(--text-secondary);
      padding: 4px 0;
      border-bottom: 1px solid var(--border);
    }

    .bot-log-entry:last-child {
      border-bottom: none;
    }

    .bot-log-time {
      color: var(--text-muted);
      margin-right: 8px;
    }

    .table-container {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
    }

    .table th,
    .table td {
      padding: 16px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .table th {
      background: var(--bg-secondary);
      font-weight: 600;
      font-size: 12px;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .table tr:last-child td {
      border-bottom: none;
    }

    .table tr:hover td {
      background: var(--bg-hover);
    }

    .visitors-list {
      max-height: 300px;
      overflow-y: auto;
    }

    .visitor-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      border-bottom: 1px solid var(--border);
    }

    .visitor-item:last-child {
      border-bottom: none;
    }

    .visitor-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .visitor-avatar {
      width: 32px;
      height: 32px;
      background: var(--bg-hover);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: var(--accent);
    }

    .visitor-name {
      font-weight: 500;
    }

    .visitor-action {
      font-size: 12px;
      color: var(--text-secondary);
    }

    .visitor-time {
      font-size: 12px;
      color: var(--text-muted);
      font-family: 'JetBrains Mono', monospace;
    }

    .ticket-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .ticket-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .ticket-card:hover {
      border-color: var(--accent);
    }

    .ticket-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .ticket-subject {
      font-weight: 600;
    }

    .ticket-status {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
    }

    .ticket-status.open {
      background: rgba(0, 255, 136, 0.2);
      color: var(--success);
    }

    .ticket-status.closed {
      background: rgba(128, 128, 144, 0.2);
      color: var(--member-gray);
    }

    .ticket-preview {
      font-size: 13px;
      color: var(--text-secondary);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .chat-container {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      height: 500px;
      display: flex;
      flex-direction: column;
    }

    .chat-header {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      font-weight: 600;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .chat-message {
      display: flex;
      gap: 12px;
      max-width: 80%;
    }

    .chat-message.own {
      align-self: flex-end;
      flex-direction: row-reverse;
    }

    .chat-message-avatar {
      width: 32px;
      height: 32px;
      background: var(--bg-hover);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      flex-shrink: 0;
    }

    .chat-message-content {
      background: var(--bg-secondary);
      padding: 12px 16px;
      border-radius: 12px;
      border-top-left-radius: 4px;
    }

    .chat-message.own .chat-message-content {
      background: var(--accent);
      color: var(--bg-primary);
      border-top-left-radius: 12px;
      border-top-right-radius: 4px;
    }

    .chat-message-sender {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .chat-message-text {
      font-size: 14px;
      line-height: 1.5;
    }

    .chat-message-time {
      font-size: 10px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .chat-input-area {
      padding: 16px;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 12px;
    }

    .chat-input-area .input {
      flex: 1;
    }

    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
    }

    .modal {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      max-width: 500px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .modal-title {
      font-family: 'Rajdhani', sans-serif;
      font-size: 20px;
      font-weight: 700;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 24px;
      cursor: pointer;
      padding: 4px;
    }

    .modal-close:hover {
      color: var(--text-primary);
    }

    .modal-body {
      padding: 24px;
    }

    .modal-footer {
      padding: 16px 24px;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .rules-content {
      line-height: 1.8;
    }

    .rules-content h3 {
      color: var(--accent);
      margin: 24px 0 12px;
      font-family: 'Rajdhani', sans-serif;
    }

    .rules-content ul {
      margin-left: 24px;
      color: var(--text-secondary);
    }

    .rules-content li {
      margin: 8px 0;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-secondary);
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .empty-state-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 3000;
      animation: slideIn 0.3s ease;
      max-width: 400px;
    }

    .toast.success {
      border-color: var(--success);
    }

    .toast.error {
      border-color: var(--danger);
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @media (max-width: 768px) {
      .hero-title {
        font-size: 40px;
      }

      .stats-bar {
        flex-direction: column;
        gap: 24px;
      }

      .sidebar-layout {
        flex-direction: column;
      }

      .sidebar {
        width: 100%;
      }

      .profile-header {
        flex-direction: column;
        text-align: center;
      }

      .navbar-nav {
        display: none;
      }

      .bot-info {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <a href="#" class="navbar-brand" onclick="navigateTo('home')">
        <div class="navbar-logo">ZS</div>
        <span class="navbar-title">ZeySense Hub</span>
      </a>
      <div class="navbar-nav" id="mainNav">
        <a href="#" class="nav-link active" data-page="home" onclick="navigateTo('home')">Home</a>
        <a href="#" class="nav-link" data-page="rules" onclick="navigateTo('rules')">Rules</a>
        <a href="#" class="nav-link" data-page="downloads" onclick="navigateTo('downloads')">Downloads</a>
      </div>
      <div class="navbar-user" id="navbarUser">
        <div class="theme-selector-wrapper">
          <button class="theme-btn" data-testid="button-theme-toggle" onclick="toggleThemeDropdown()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="4"></circle>
              <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"></path>
            </svg>
            <span id="currentThemeName">Dark</span>
          </button>
          <div class="theme-dropdown" id="themeDropdown">
            <div class="theme-option active" data-theme="dark" onclick="setTheme('dark')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #0a0a0f, #00ff88);"></div>
              <div>
                <div class="theme-name">Dark Tema</div>
                <div class="theme-desc">Koyu ve modern</div>
              </div>
            </div>
            <div class="theme-option" data-theme="light" onclick="setTheme('light')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #f5f5f7, #00b368);"></div>
              <div>
                <div class="theme-name">Light Tema</div>
                <div class="theme-desc">Aydınlık ve temiz</div>
              </div>
            </div>
            <div class="theme-option" data-theme="neon" onclick="setTheme('neon')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #0d001a, #ff00ff);"></div>
              <div>
                <div class="theme-name">Neon Tema</div>
                <div class="theme-desc">Oyuncu tarzı</div>
              </div>
            </div>
            <div class="theme-option" data-theme="cyber" onclick="setTheme('cyber')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #000a00, #00ff00);"></div>
              <div>
                <div class="theme-name">Cyber Tema</div>
                <div class="theme-desc">Matrix tarzı</div>
              </div>
            </div>
            <div class="theme-option" data-theme="glass" onclick="setTheme('glass')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #1a1a2e, #667eea);"></div>
              <div>
                <div class="theme-name">Glassmorphism</div>
                <div class="theme-desc">Cam efekti</div>
              </div>
            </div>
            <div class="theme-option" data-theme="minimal" onclick="setTheme('minimal')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #1c1c1c, #ffffff);"></div>
              <div>
                <div class="theme-name">Minimal Tema</div>
                <div class="theme-desc">Sade ve hızlı</div>
              </div>
            </div>
            <div class="theme-option" data-theme="red-gaming" onclick="setTheme('red-gaming')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #0a0a0a, #ff0040);"></div>
              <div>
                <div class="theme-name">Red Gaming</div>
                <div class="theme-desc">E-spor tarzı</div>
              </div>
            </div>
            <div class="theme-option" data-theme="blue-tech" onclick="setTheme('blue-tech')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #0a0f1a, #0080ff);"></div>
              <div>
                <div class="theme-name">Blue Tech</div>
                <div class="theme-desc">Yazılım paneli</div>
              </div>
            </div>
            <div class="theme-option" data-theme="gradient" onclick="setTheme('gradient')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #1a1a2e, #e94560);"></div>
              <div>
                <div class="theme-name">Gradient Tema</div>
                <div class="theme-desc">Yumuşak geçişler</div>
              </div>
            </div>
            <div class="theme-option" data-theme="animated" onclick="setTheme('animated')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #0f0f1a, #00d4ff);"></div>
              <div>
                <div class="theme-name">Animated Tema</div>
                <div class="theme-desc">Animasyonlu</div>
              </div>
            </div>
            <div class="theme-option" data-theme="mobile" onclick="setTheme('mobile')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #0d0d12, #00cc88);"></div>
              <div>
                <div class="theme-name">Mobile Tema</div>
                <div class="theme-desc">Telefon uyumlu</div>
              </div>
            </div>
            <div class="theme-option" data-theme="compact" onclick="setTheme('compact')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #08080c, #00dd77);"></div>
              <div>
                <div class="theme-name">Compact Tema</div>
                <div class="theme-desc">Daha fazla bilgi</div>
              </div>
            </div>
            <div class="theme-option" data-theme="classic" onclick="setTheme('classic')">
              <div class="theme-preview" style="background: linear-gradient(135deg, #2c2c34, #4a90d9);"></div>
              <div>
                <div class="theme-name">Classic Tema</div>
                <div class="theme-desc">Nostaljik panel</div>
              </div>
            </div>
            <div class="theme-option" data-theme="transparent" onclick="setTheme('transparent')">
              <div class="theme-preview" style="background: linear-gradient(135deg, rgba(10, 10, 15, 0.85), #a855f7);"></div>
              <div>
                <div class="theme-name">Transparent Tema</div>
                <div class="theme-desc">Yarı saydam</div>
              </div>
            </div>
            <div class="theme-option" data-theme="custom" onclick="setTheme('custom')">
              <div class="theme-preview" id="customThemePreview" style="background: linear-gradient(135deg, #0a0a0f, #ff6b00);"></div>
              <div>
                <div class="theme-name">Custom Tema</div>
                <div class="theme-desc">Kendi rengini seç</div>
              </div>
            </div>
            <div class="custom-color-section" id="customColorSection" style="display: none;">
              <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 8px;">Ana Renk Seç:</div>
              <div class="color-picker-row">
                <input type="color" id="customAccentColor" value="#ff6b00" onchange="updateCustomColor(this.value)">
                <span>Accent rengi</span>
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-secondary btn-small" data-testid="button-login" onclick="navigateTo('login')">Login</button>
        <button class="btn btn-primary btn-small" data-testid="button-register" onclick="navigateTo('register')">Register</button>
      </div>
    </div>
  </nav>

  <main class="main-content" id="mainContent">
  </main>

  <div class="modal-overlay hidden" id="modalOverlay">
    <div class="modal" id="modal">
    </div>
  </div>

  <div class="toast hidden" id="toast">
    <span id="toastMessage"></span>
  </div>

  <script>
    let currentUser = null;
    let sessionId = localStorage.getItem('sessionId');
    let currentPage = 'home';
    let stats = { totalUsers: 0, onlineUsers: 0, totalBots: 0, botsOnline: 0, visitorCount: 0, recentVisitors: [] };
    let userBots = [];
    let tickets = [];
    let currentTheme = localStorage.getItem('theme') || 'dark';

    // ===== THEME SYSTEM =====
    const themeNames = {
      'dark': 'Dark',
      'light': 'Light',
      'neon': 'Neon',
      'cyber': 'Cyber',
      'glass': 'Glass',
      'minimal': 'Minimal',
      'red-gaming': 'Red Gaming',
      'blue-tech': 'Blue Tech',
      'gradient': 'Gradient',
      'custom': 'Custom',
      'animated': 'Animated',
      'mobile': 'Mobile',
      'compact': 'Compact',
      'classic': 'Classic',
      'transparent': 'Transparent'
    };

    function initTheme() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      const savedCustomColor = localStorage.getItem('customAccentColor') || '#ff6b00';
      setTheme(savedTheme, false);
      if (savedTheme === 'custom') {
        updateCustomColor(savedCustomColor, false);
        document.getElementById('customAccentColor').value = savedCustomColor;
      }
    }

    function toggleThemeDropdown() {
      const dropdown = document.getElementById('themeDropdown');
      dropdown.classList.toggle('show');
      
      // Close dropdown when clicking outside
      if (dropdown.classList.contains('show')) {
        setTimeout(() => {
          document.addEventListener('click', closeThemeDropdownOnOutsideClick);
        }, 10);
      }
    }

    function closeThemeDropdownOnOutsideClick(e) {
      const dropdown = document.getElementById('themeDropdown');
      const wrapper = document.querySelector('.theme-selector-wrapper');
      if (!wrapper.contains(e.target)) {
        dropdown.classList.remove('show');
        document.removeEventListener('click', closeThemeDropdownOnOutsideClick);
      }
    }

    function setTheme(theme, save = true) {
      currentTheme = theme;
      document.documentElement.setAttribute('data-theme', theme);
      
      // Update active state in dropdown
      document.querySelectorAll('.theme-option').forEach(opt => {
        opt.classList.toggle('active', opt.dataset.theme === theme);
      });
      
      // Update button text
      const themeNameEl = document.getElementById('currentThemeName');
      if (themeNameEl) {
        themeNameEl.textContent = themeNames[theme] || theme;
      }
      
      // Show/hide custom color picker
      const customSection = document.getElementById('customColorSection');
      if (customSection) {
        customSection.style.display = theme === 'custom' ? 'block' : 'none';
      }
      
      // Save to localStorage
      if (save) {
        localStorage.setItem('theme', theme);
      }
      
      // Close dropdown after selection
      const dropdown = document.getElementById('themeDropdown');
      if (dropdown && save) {
        dropdown.classList.remove('show');
      }
    }

    function updateCustomColor(color, save = true) {
      const root = document.documentElement;
      
      // Calculate dimmed and glow versions
      const dimColor = adjustColorBrightness(color, -20);
      const glowColor = hexToRgba(color, 0.3);
      
      root.style.setProperty('--custom-accent', color);
      root.style.setProperty('--custom-accent-dim', dimColor);
      root.style.setProperty('--custom-accent-glow', glowColor);
      
      // Update preview
      const preview = document.getElementById('customThemePreview');
      if (preview) {
        preview.style.background = `linear-gradient(135deg, #0a0a0f, ${color})`;
      }
      
      if (save) {
        localStorage.setItem('customAccentColor', color);
      }
    }

    function adjustColorBrightness(hex, percent) {
      const num = parseInt(hex.replace('#', ''), 16);
      const amt = Math.round(2.55 * percent);
      const R = Math.max(0, Math.min(255, (num >> 16) + amt));
      const G = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amt));
      const B = Math.max(0, Math.min(255, (num & 0x0000FF) + amt));
      return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);
    }

    function hexToRgba(hex, alpha) {
      const num = parseInt(hex.replace('#', ''), 16);
      const r = num >> 16;
      const g = (num >> 8) & 0x00FF;
      const b = num & 0x0000FF;
      return `rgba(${r}, ${g}, ${b}, ${alpha})`;
    }

    const achievementData = {
      verified: { name: 'Verified User', icon: '✓', desc: 'Email verified' },
      old_member: { name: 'Old Member', icon: '🏆', desc: '6+ month account' },
      loader_master: { name: 'Loader Master', icon: '🔧', desc: '100+ loader opens' },
      bot_controller: { name: 'Bot Controller', icon: '🤖', desc: 'Used AFK Bot' },
      supporter: { name: 'Supporter', icon: '💎', desc: 'Long-term member' },
      admin: { name: 'Admin', icon: '🛡️', desc: 'Administrator' },
      owner: { name: 'Owner', icon: '👑', desc: 'Founder' }
    };

    async function init() {
      initTheme();
      await fetchStats();
      if (sessionId) {
        await checkAuth();
      }
      renderPage();
      setInterval(fetchStats, 30000);
    }

    async function fetchStats() {
      try {
        const res = await fetch('/api/stats');
        stats = await res.json();
      } catch (e) {
        console.error('Failed to fetch stats');
      }
    }

    async function checkAuth() {
      try {
        const res = await fetch('/api/user/profile', {
          headers: { 'x-session-id': sessionId }
        });
        if (res.ok) {
          const data = await res.json();
          currentUser = data.user;
          updateNavbar();
        } else {
          localStorage.removeItem('sessionId');
          sessionId = null;
        }
      } catch (e) {
        console.error('Auth check failed');
      }
    }

    function updateNavbar() {
      const nav = document.getElementById('mainNav');
      const userArea = document.getElementById('navbarUser');

      if (currentUser) {
        let navLinks = `
          <a href="#" class="nav-link" data-page="home" onclick="navigateTo('home')">Home</a>
          <a href="#" class="nav-link" data-page="profile" onclick="navigateTo('profile')">Profile</a>
          <a href="#" class="nav-link" data-page="bots" onclick="navigateTo('bots')">AFK Bot Panel</a>
          <a href="#" class="nav-link" data-page="tickets" onclick="navigateTo('tickets')">Support</a>
        `;

        if (currentUser.role === 'admin' || currentUser.role === 'owner') {
          navLinks += `<a href="#" class="nav-link" data-page="admin" onclick="navigateTo('admin')">Admin Panel</a>`;
        }
        if (currentUser.role === 'owner') {
          navLinks += `<a href="#" class="nav-link" data-page="owner" onclick="navigateTo('owner')">Owner Control</a>`;
        }

        nav.innerHTML = navLinks;

        const initial = currentUser.username.charAt(0).toUpperCase();
        userArea.innerHTML = `
          <div class="user-avatar" data-testid="button-user-menu">${initial}</div>
          <button class="btn btn-secondary btn-small" data-testid="button-logout" onclick="logout()">Logout</button>
        `;
      } else {
        nav.innerHTML = `
          <a href="#" class="nav-link active" data-page="home" onclick="navigateTo('home')">Home</a>
          <a href="#" class="nav-link" data-page="rules" onclick="navigateTo('rules')">Rules</a>
          <a href="#" class="nav-link" data-page="downloads" onclick="navigateTo('downloads')">Downloads</a>
        `;
        userArea.innerHTML = `
          <button class="btn btn-secondary btn-small" data-testid="button-login" onclick="navigateTo('login')">Login</button>
          <button class="btn btn-primary btn-small" data-testid="button-register" onclick="navigateTo('register')">Register</button>
        `;
      }

      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.toggle('active', link.dataset.page === currentPage);
      });
    }

    function navigateTo(page) {
      currentPage = page;
      renderPage();
      updateNavbar();
    }

    function renderPage() {
      const content = document.getElementById('mainContent');

      switch (currentPage) {
        case 'home':
          content.innerHTML = renderHome();
          break;
        case 'login':
          content.innerHTML = renderLogin();
          break;
        case 'register':
          content.innerHTML = renderRegister();
          break;
        case 'rules':
          content.innerHTML = renderRules();
          break;
        case 'downloads':
          content.innerHTML = renderDownloads();
          break;
        case 'profile':
          content.innerHTML = currentUser ? renderProfile() : renderLogin();
          break;
        case 'bots':
          content.innerHTML = currentUser ? renderBots() : renderLogin();
          if (currentUser) loadBots();
          break;
        case 'tickets':
          content.innerHTML = currentUser ? renderTickets() : renderLogin();
          if (currentUser) loadTickets();
          break;
        case 'admin':
          content.innerHTML = (currentUser && (currentUser.role === 'admin' || currentUser.role === 'owner')) ? renderAdmin() : renderHome();
          break;
        case 'owner':
          content.innerHTML = (currentUser && currentUser.role === 'owner') ? renderOwner() : renderHome();
          break;
        default:
          content.innerHTML = renderHome();
      }
    }

    function renderHome() {
      return `
        <section class="hero">
          <div class="container hero-content">
            <h1 class="hero-title font-display" data-testid="text-hero-title">ZeySense Hub</h1>
            <p class="hero-subtitle">Minecraft AFK Bot Sistemi + Advanced Account System<br>Gamesense tarzı premium panel deneyimi.</p>
            <div class="hero-buttons">
              ${currentUser ? `
                <button class="btn btn-primary" data-testid="button-bot-panel" onclick="navigateTo('bots')">AFK Bot Panel</button>
                <button class="btn btn-secondary" data-testid="button-profile" onclick="navigateTo('profile')">Profile</button>
              ` : `
                <button class="btn btn-primary" data-testid="button-get-started" onclick="navigateTo('register')">Get Started</button>
                <button class="btn btn-secondary" data-testid="button-learn-more" onclick="navigateTo('rules')">Learn More</button>
              `}
            </div>
            <div class="stats-bar">
              <div class="stat-item">
                <div class="stat-value font-display" data-testid="text-stat-users">${stats.totalUsers || 0}</div>
                <div class="stat-label">Total Users</div>
              </div>
              <div class="stat-item">
                <div class="stat-value font-display" data-testid="text-stat-online">${stats.onlineUsers || 0}</div>
                <div class="stat-label">Online Now</div>
              </div>
              <div class="stat-item">
                <div class="stat-value font-display" data-testid="text-stat-bots">${stats.botsOnline || 0}</div>
                <div class="stat-label">Bots Running</div>
              </div>
              <div class="stat-item">
                <div class="stat-value font-display" data-testid="text-stat-visitors">${stats.visitorCount || 0}</div>
                <div class="stat-label">Total Visitors</div>
              </div>
            </div>
          </div>
        </section>

        <section class="page">
          <div class="container">
            <div class="page-header">
              <h2 class="page-title font-display">Recent Visitors</h2>
              <p class="page-subtitle">Real-time visitor activity on ZeySense Hub</p>
            </div>
            <div class="card">
              <div class="visitors-list" id="visitorsList">
                ${stats.recentVisitors.length > 0 ? stats.recentVisitors.map(v => `
                  <div class="visitor-item">
                    <div class="visitor-info">
                      <div class="visitor-avatar">${v.name.charAt(0)}</div>
                      <div>
                        <div class="visitor-name">${v.name}</div>
                        <div class="visitor-action">${v.action}</div>
                      </div>
                    </div>
                    <div class="visitor-time">${new Date(v.timestamp).toLocaleTimeString()}</div>
                  </div>
                `).join('') : `
                  <div class="empty-state">
                    <div class="empty-state-icon">👁️</div>
                    <div class="empty-state-title">No recent visitors</div>
                    <p>Visitors will appear here</p>
                  </div>
                `}
              </div>
            </div>
          </div>
        </section>

        <section class="page">
          <div class="container">
            <div class="page-header">
              <h2 class="page-title font-display">Bot Features</h2>
              <p class="page-subtitle">Premium AFK Bot capabilities</p>
            </div>
            <div class="bot-grid">
              <div class="card">
                <h3 style="color: var(--accent); margin-bottom: 12px;">Multi-Version Support</h3>
                <p style="color: var(--text-secondary);">Connect to any Minecraft server from 1.8 to 1.21+</p>
              </div>
              <div class="card">
                <h3 style="color: var(--accent); margin-bottom: 12px;">Auto Reconnect</h3>
                <p style="color: var(--text-secondary);">Automatically reconnect within 3 seconds after kick</p>
              </div>
              <div class="card">
                <h3 style="color: var(--accent); margin-bottom: 12px;">Anti-AFK System</h3>
                <p style="color: var(--text-secondary);">Smart movement patterns to bypass AFK detection</p>
              </div>
              <div class="card">
                <h3 style="color: var(--accent); margin-bottom: 12px;">Server Monitoring</h3>
                <p style="color: var(--text-secondary);">Real-time TPS, player count, and ping monitoring</p>
              </div>
            </div>
          </div>
        </section>
      `;
    }

    function renderLogin() {
      return `
        <div class="auth-container">
          <div class="auth-card">
            <div class="auth-header">
              <div class="auth-logo">ZS</div>
              <h1 class="auth-title font-display">Welcome Back</h1>
            </div>
            <form onsubmit="handleLogin(event)">
              <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="input" id="loginEmail" placeholder="your@email.com" required data-testid="input-login-email">
              </div>
              <div class="form-group">
                <label class="form-label">Password</label>
                <input type="password" class="input" id="loginPassword" placeholder="Enter password" required data-testid="input-login-password">
              </div>
              <div class="form-group" style="display: flex; align-items: center; gap: 8px;">
                <input type="checkbox" id="rememberDevice" style="width: auto;">
                <label for="rememberDevice" style="margin: 0; color: var(--text-secondary); font-size: 13px;">Remember this device for 30 days</label>
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-submit-login">Login</button>
            </form>
            <div style="display: flex; gap: 16px; justify-content: center; margin-top: 16px;">
              <a href="#" onclick="showResetPasswordModal()" style="color: var(--accent); font-size: 13px; text-decoration: none;">Forgot Password?</a>
              <a href="#" onclick="showCodeLoginModal()" style="color: var(--accent); font-size: 13px; text-decoration: none;">Login with Code</a>
            </div>
            <div class="auth-footer">
              Don't have an account? <a href="#" onclick="navigateTo('register')">Register</a>
            </div>
          </div>
        </div>
      `;
    }

    function renderRegister() {
      return `
        <div class="auth-container">
          <div class="auth-card">
            <div class="auth-header">
              <div class="auth-logo">ZS</div>
              <h1 class="auth-title font-display">Create Account</h1>
            </div>
            <form onsubmit="handleRegister(event)">
              <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="input" id="regEmail" placeholder="your@email.com" required data-testid="input-register-email">
              </div>
              <div class="form-group">
                <label class="form-label">Username</label>
                <input type="text" class="input" id="regUsername" placeholder="Choose username" required data-testid="input-register-username">
              </div>
              <div class="form-group">
                <label class="form-label">Password</label>
                <input type="password" class="input" id="regPassword" placeholder="Create password" required data-testid="input-register-password">
              </div>
              <div class="form-group">
                <label class="form-label">Invite Code (Optional)</label>
                <input type="text" class="input" id="regInvite" placeholder="ZS-XXXXXXXX" data-testid="input-register-invite">
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-submit-register">Create Account</button>
            </form>
            <div class="auth-footer">
              Already have an account? <a href="#" onclick="navigateTo('login')">Login</a>
            </div>
          </div>
        </div>
      `;
    }

    function renderRules() {
      return `
        <div class="page">
          <div class="container" style="max-width: 800px;">
            <div class="page-header">
              <h1 class="page-title font-display">Rules & Guidelines</h1>
              <p class="page-subtitle">Please read and follow these rules</p>
            </div>
            <div class="card rules-content">
              <h3>Account Rules</h3>
              <ul>
                <li>Each email can only register one account</li>
                <li>Invite codes are single-use only</li>
                <li>Do not share your account credentials</li>
                <li>HWID is locked to your device after first login</li>
              </ul>

              <h3>Bot Usage</h3>
              <ul>
                <li>Only use bots on servers where it's allowed</li>
                <li>Do not use bots for malicious purposes</li>
                <li>Report any bugs or issues to support</li>
                <li>Keep your bot names appropriate</li>
              </ul>

              <h3>Community</h3>
              <ul>
                <li>Be respectful to other users</li>
                <li>No spam or advertising</li>
                <li>Follow staff instructions</li>
                <li>Report violations through tickets</li>
              </ul>

              <h3>Violations</h3>
              <ul>
                <li>First offense: Warning</li>
                <li>Second offense: Temporary ban</li>
                <li>Third offense: Permanent ban</li>
                <li>Severe violations: Immediate permanent ban</li>
              </ul>
            </div>
          </div>
        </div>
      `;
    }

    function renderDownloads() {
      return `
        <div class="page">
          <div class="container" style="max-width: 800px;">
            <div class="page-header">
              <h1 class="page-title font-display">Downloads</h1>
              <p class="page-subtitle">Get the ZeySense Loader</p>
            </div>
            <div class="card" style="text-align: center; padding: 60px;">
              <div style="font-size: 64px; margin-bottom: 24px;">📦</div>
              <h2 style="margin-bottom: 16px;" class="font-display">ZeySense Loader v2.0</h2>
              <p style="color: var(--text-secondary); margin-bottom: 32px;">Windows 10/11 | 64-bit required</p>
              ${currentUser ? `
                ${currentUser.loaderAccess ? `
                  <button class="btn btn-primary" data-testid="button-download">Download Loader</button>
                ` : `
                  <p style="color: var(--danger);">Loader access disabled. Contact support.</p>
                `}
              ` : `
                <p style="color: var(--warning); margin-bottom: 16px;">Login required to download</p>
                <button class="btn btn-primary" onclick="navigateTo('login')">Login to Download</button>
              `}
            </div>
          </div>
        </div>
      `;
    }

    function renderProfile() {
      const roleClass = currentUser.role === 'owner' ? 'badge-owner' : currentUser.role === 'admin' ? 'badge-admin' : 'badge-member';
      const roleLabel = currentUser.role.charAt(0).toUpperCase() + currentUser.role.slice(1);

      return `
        <div class="page">
          <div class="container">
            <div class="profile-header">
              <div class="profile-avatar">${currentUser.username.charAt(0).toUpperCase()}</div>
              <div class="profile-info">
                <div class="profile-name">
                  ${currentUser.username}
                  <span class="badge ${roleClass}">${currentUser.role === 'owner' ? '👑' : currentUser.role === 'admin' ? '🛡️' : ''} ${roleLabel}</span>
                </div>
                <div class="profile-meta">
                  <span class="profile-meta-item">📅 Joined ${new Date(currentUser.createdAt).toLocaleDateString()}</span>
                  <span class="profile-meta-item">🕐 Last login ${new Date(currentUser.lastLogin).toLocaleDateString()}</span>
                  <span class="profile-meta-item">${currentUser.hwid ? '🔒 HWID Locked' : '🔓 HWID Not Set'}</span>
                  ${currentUser.loaderAccess ? '<span class="profile-meta-item" style="color: var(--success);">✓ Loader Access</span>' : '<span class="profile-meta-item" style="color: var(--danger);">✗ No Loader Access</span>'}
                </div>
                <p class="profile-bio">${currentUser.bio || 'No bio set. Edit your profile to add one.'}</p>
              </div>
            </div>

            <div class="profile-stats">
              <div class="profile-stat">
                <div class="profile-stat-value font-display">${currentUser.stats.loaderOpens}</div>
                <div class="profile-stat-label">Loader Opens</div>
              </div>
              <div class="profile-stat">
                <div class="profile-stat-value font-display">${currentUser.stats.botSessions}</div>
                <div class="profile-stat-label">Bot Sessions</div>
              </div>
              <div class="profile-stat">
                <div class="profile-stat-value font-display">${Math.floor(currentUser.stats.usageTime / 60)}h</div>
                <div class="profile-stat-label">Usage Time</div>
              </div>
              <div class="profile-stat">
                <div class="profile-stat-value font-display">${currentUser.stats.forumPosts}</div>
                <div class="profile-stat-label">Forum Posts</div>
              </div>
            </div>

            <div style="margin-top: 32px;">
              <h2 class="page-title font-display" style="font-size: 24px; margin-bottom: 16px;">Achievements</h2>
              <div class="achievements-grid">
                ${currentUser.achievements.map(a => {
                  const ach = achievementData[a] || { name: a, icon: '🏅', desc: 'Achievement' };
                  return `
                    <div class="achievement-card">
                      <div class="achievement-icon">${ach.icon}</div>
                      <div class="achievement-name">${ach.name}</div>
                      <div class="achievement-desc">${ach.desc}</div>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>

            <div style="margin-top: 32px;">
              <h2 class="page-title font-display" style="font-size: 24px; margin-bottom: 16px;">Edit Profile</h2>
              <div class="card">
                <form onsubmit="updateProfile(event)">
                  <div class="form-group">
                    <label class="form-label">Bio</label>
                    <textarea class="input" id="profileBio" rows="3" placeholder="Tell us about yourself" data-testid="input-profile-bio">${currentUser.bio || ''}</textarea>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Discord</label>
                    <input type="text" class="input" id="profileDiscord" placeholder="username#0000" value="${currentUser.socialLinks?.discord || ''}" data-testid="input-profile-discord">
                  </div>
                  <div class="form-group">
                    <label class="form-label">YouTube</label>
                    <input type="text" class="input" id="profileYoutube" placeholder="YouTube channel URL" value="${currentUser.socialLinks?.youtube || ''}" data-testid="input-profile-youtube">
                  </div>
                  <div class="form-group">
                    <label class="form-label">GitHub</label>
                    <input type="text" class="input" id="profileGithub" placeholder="GitHub username" value="${currentUser.socialLinks?.github || ''}" data-testid="input-profile-github">
                  </div>
                  <button type="submit" class="btn btn-primary" data-testid="button-save-profile">Save Changes</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderBots() {
      return `
        <div class="page">
          <div class="container">
            <div class="page-header" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
              <div>
                <h1 class="page-title font-display">AFK Bot Panel</h1>
                <p class="page-subtitle">Manage your Minecraft AFK bots</p>
              </div>
              <button class="btn btn-primary" onclick="showCreateBotModal()" data-testid="button-create-bot">+ Create Bot</button>
            </div>
            <div class="bot-grid" id="botGrid">
              <div class="empty-state">
                <div class="empty-state-icon">🤖</div>
                <div class="empty-state-title">Loading bots...</div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderTickets() {
      return `
        <div class="page">
          <div class="container">
            <div class="page-header" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
              <div>
                <h1 class="page-title font-display">Live Support</h1>
                <p class="page-subtitle">Get help from our team</p>
              </div>
              <button class="btn btn-primary" onclick="showCreateTicketModal()" data-testid="button-create-ticket">+ New Ticket</button>
            </div>
            <div class="ticket-list" id="ticketList">
              <div class="empty-state">
                <div class="empty-state-icon">💬</div>
                <div class="empty-state-title">Loading tickets...</div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderAdmin() {
      return `
        <div class="page">
          <div class="container">
            <div class="sidebar-layout">
              <div class="sidebar">
                <div class="sidebar-nav">
                  <div class="sidebar-section">
                    <div class="sidebar-title">Admin Tools</div>
                    <a class="sidebar-link active" onclick="loadAdminUsers()">👥 User Manager</a>
                    <a class="sidebar-link" onclick="loadAdminInvites()">🎟️ Invite Codes</a>
                    <a class="sidebar-link" onclick="loadAdminTickets()">💬 Tickets</a>
                  </div>
                </div>
              </div>
              <div class="content-area" id="adminContent">
                <div class="card">
                  <h2 class="font-display" style="margin-bottom: 20px;">Admin Dashboard</h2>
                  <p style="color: var(--text-secondary);">Select a tool from the sidebar</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderOwner() {
      return `
        <div class="page">
          <div class="container">
            <div class="sidebar-layout">
              <div class="sidebar">
                <div class="sidebar-nav">
                  <div class="sidebar-section">
                    <div class="sidebar-title">Owner Control</div>
                    <a class="sidebar-link active" onclick="loadOwnerUsers()">👥 User Manager</a>
                    <a class="sidebar-link" onclick="loadOwnerAdmins()">🛡️ Admin Manager</a>
                    <a class="sidebar-link" onclick="loadOwnerInvites()">🎟️ Invite Generator</a>
                    <a class="sidebar-link" onclick="loadOwnerLogs()">📋 Activity Logs</a>
                  </div>
                </div>
              </div>
              <div class="content-area" id="ownerContent">
                <div class="card">
                  <h2 class="font-display" style="margin-bottom: 20px;">Owner Control Center</h2>
                  <p style="color: var(--text-secondary);">Full system access. Select a tool from the sidebar.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    async function handleLogin(e) {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;

      try {
        const res = await fetch('/api/auth/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, password })
        });

        const data = await res.json();

        if (res.ok) {
          sessionId = data.sessionId;
          localStorage.setItem('sessionId', sessionId);
          currentUser = data.user;
          showToast('Login successful!', 'success');
          navigateTo('home');
          updateNavbar();
        } else {
          showToast(data.error || 'Login failed', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function handleRegister(e) {
      e.preventDefault();
      const email = document.getElementById('regEmail').value;
      const username = document.getElementById('regUsername').value;
      const password = document.getElementById('regPassword').value;
      const inviteCode = document.getElementById('regInvite').value;

      try {
        const res = await fetch('/api/auth/register', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, username, password, inviteCode: inviteCode || undefined })
        });

        const data = await res.json();

        if (res.ok) {
          sessionId = data.sessionId;
          localStorage.setItem('sessionId', sessionId);
          currentUser = data.user;
          showToast('Account created!', 'success');
          navigateTo('home');
          updateNavbar();
        } else {
          showToast(data.error || 'Registration failed', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function logout() {
      try {
        await fetch('/api/auth/logout', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ sessionId })
        });
      } catch (e) {}

      localStorage.removeItem('sessionId');
      sessionId = null;
      currentUser = null;
      showToast('Logged out', 'success');
      navigateTo('home');
      updateNavbar();
    }

    function showResetPasswordModal() {
      const modal = document.getElementById('modal');
      const overlay = document.getElementById('modalOverlay');

      modal.innerHTML = `
        <div class="modal-header">
          <h2 class="modal-title font-display">Reset Password</h2>
          <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
          <div id="resetStep1">
            <form onsubmit="requestPasswordReset(event)">
              <div class="form-group">
                <label class="form-label">Email Address</label>
                <input type="email" class="input" id="resetEmail" placeholder="your@email.com" required data-testid="input-reset-email">
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-request-reset">Send Reset Code</button>
            </form>
          </div>
          <div id="resetStep2" class="hidden">
            <form onsubmit="confirmPasswordReset(event)">
              <div class="form-group">
                <label class="form-label">Reset Code (6 digits)</label>
                <input type="text" class="input" id="resetCode" placeholder="123456" maxlength="6" required data-testid="input-reset-code">
              </div>
              <div class="form-group">
                <label class="form-label">New Password</label>
                <input type="password" class="input" id="newPassword" placeholder="Enter new password" required data-testid="input-new-password">
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-confirm-reset">Reset Password</button>
            </form>
          </div>
        </div>
      `;

      overlay.classList.remove('hidden');
    }

    let resetEmailTemp = '';

    async function requestPasswordReset(e) {
      e.preventDefault();
      const email = document.getElementById('resetEmail').value;
      resetEmailTemp = email;

      try {
        const res = await fetch('/api/auth/request-reset', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email })
        });

        const data = await res.json();

        if (res.ok) {
          document.getElementById('resetStep1').classList.add('hidden');
          document.getElementById('resetStep2').classList.remove('hidden');
          showToast('Reset code sent! Check console for demo.', 'success');
        } else {
          showToast(data.error || 'Failed to send reset code', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function confirmPasswordReset(e) {
      e.preventDefault();
      const code = document.getElementById('resetCode').value;
      const newPassword = document.getElementById('newPassword').value;

      try {
        const res = await fetch('/api/auth/reset-password', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email: resetEmailTemp, code, newPassword })
        });

        const data = await res.json();

        if (res.ok) {
          closeModal();
          showToast('Password reset successful! You can now login.', 'success');
          navigateTo('login');
        } else {
          showToast(data.error || 'Failed to reset password', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    function showCodeLoginModal() {
      const modal = document.getElementById('modal');
      const overlay = document.getElementById('modalOverlay');

      modal.innerHTML = `
        <div class="modal-header">
          <h2 class="modal-title font-display">Login with Code</h2>
          <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
          <div id="codeStep1">
            <form onsubmit="requestLoginCode(event)">
              <div class="form-group">
                <label class="form-label">Email Address</label>
                <input type="email" class="input" id="codeEmail" placeholder="your@email.com" required data-testid="input-code-email">
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-request-code">Send Login Code</button>
            </form>
          </div>
          <div id="codeStep2" class="hidden">
            <form onsubmit="confirmCodeLogin(event)">
              <div class="form-group">
                <label class="form-label">Login Code (6 digits)</label>
                <input type="text" class="input" id="loginCode" placeholder="123456" maxlength="6" required data-testid="input-login-code">
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-confirm-code">Login</button>
            </form>
          </div>
        </div>
      `;

      overlay.classList.remove('hidden');
    }

    let codeEmailTemp = '';

    async function requestLoginCode(e) {
      e.preventDefault();
      const email = document.getElementById('codeEmail').value;
      codeEmailTemp = email;

      try {
        const res = await fetch('/api/auth/request-verification', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email })
        });

        const data = await res.json();

        if (res.ok) {
          document.getElementById('codeStep1').classList.add('hidden');
          document.getElementById('codeStep2').classList.remove('hidden');
          showToast('Login code sent! Check console for demo.', 'success');
        } else {
          showToast(data.error || 'Failed to send login code', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function confirmCodeLogin(e) {
      e.preventDefault();
      const code = document.getElementById('loginCode').value;

      try {
        const res = await fetch('/api/auth/login-with-code', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email: codeEmailTemp, code })
        });

        const data = await res.json();

        if (res.ok) {
          sessionId = data.sessionId;
          localStorage.setItem('sessionId', sessionId);
          currentUser = data.user;
          closeModal();
          showToast('Login successful!', 'success');
          navigateTo('home');
          updateNavbar();
        } else {
          showToast(data.error || 'Failed to login', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function updateProfile(e) {
      e.preventDefault();
      const bio = document.getElementById('profileBio').value;
      const discord = document.getElementById('profileDiscord').value;
      const youtube = document.getElementById('profileYoutube').value;
      const github = document.getElementById('profileGithub').value;

      try {
        const res = await fetch('/api/user/profile', {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
            'x-session-id': sessionId
          },
          body: JSON.stringify({
            bio,
            socialLinks: { discord, youtube, github }
          })
        });

        if (res.ok) {
          const data = await res.json();
          currentUser = data.user;
          showToast('Profile updated!', 'success');
        } else {
          showToast('Update failed', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function loadBots() {
      try {
        const res = await fetch('/api/bots', {
          headers: { 'x-session-id': sessionId }
        });
        const data = await res.json();
        userBots = data.bots || [];
        renderBotGrid();
      } catch (e) {
        document.getElementById('botGrid').innerHTML = '<div class="empty-state"><div class="empty-state-title">Failed to load bots</div></div>';
      }
    }

    function renderBotGrid() {
      const grid = document.getElementById('botGrid');

      if (userBots.length === 0) {
        grid.innerHTML = `
          <div class="empty-state" style="grid-column: 1 / -1;">
            <div class="empty-state-icon">🤖</div>
            <div class="empty-state-title">No bots yet</div>
            <p>Create your first AFK bot to get started</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = userBots.map(bot => `
        <div class="bot-card" data-testid="card-bot-${bot.id}">
          <div class="bot-header">
            <span class="bot-name">${bot.name}</span>
            <div class="bot-status">
              <span class="status-dot ${bot.status}"></span>
              <span>${bot.status.charAt(0).toUpperCase() + bot.status.slice(1)}</span>
            </div>
          </div>
          <div class="bot-info">
            <div class="bot-info-item">
              <span class="bot-info-label">Server</span>
              <span class="bot-info-value font-mono">${bot.server}</span>
            </div>
            <div class="bot-info-item">
              <span class="bot-info-label">Version</span>
              <span class="bot-info-value">${bot.version}</span>
            </div>
            <div class="bot-info-item">
              <span class="bot-info-label">Behavior</span>
              <span class="bot-info-value">${bot.behavior}</span>
            </div>
            <div class="bot-info-item">
              <span class="bot-info-label">Ping</span>
              <span class="bot-info-value">${bot.ping}ms</span>
            </div>
          </div>
          <div class="bot-actions">
            ${bot.status === 'offline' ? `
              <button class="btn btn-primary btn-small" onclick="startBot('${bot.id}')" data-testid="button-start-bot-${bot.id}">Start</button>
            ` : `
              <button class="btn btn-danger btn-small" onclick="stopBot('${bot.id}')" data-testid="button-stop-bot-${bot.id}">Stop</button>
            `}
            <button class="btn btn-secondary btn-small" onclick="deleteBot('${bot.id}')" data-testid="button-delete-bot-${bot.id}">Delete</button>
          </div>
          ${bot.logs && bot.logs.length > 0 ? `
            <div class="bot-logs">
              ${bot.logs.slice(-5).map(log => `
                <div class="bot-log-entry">
                  <span class="bot-log-time">${new Date(log.time).toLocaleTimeString()}</span>
                  ${log.message}
                </div>
              `).join('')}
            </div>
          ` : ''}
        </div>
      `).join('');
    }

    function showCreateBotModal() {
      const modal = document.getElementById('modal');
      const overlay = document.getElementById('modalOverlay');

      modal.innerHTML = `
        <div class="modal-header">
          <h2 class="modal-title font-display">Create New Bot</h2>
          <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
          <form onsubmit="createBot(event)">
            <div class="form-group">
              <label class="form-label">Bot Name</label>
              <input type="text" class="input" id="botName" placeholder="My AFK Bot" data-testid="input-bot-name">
            </div>
            <div class="form-group">
              <label class="form-label">Server Address</label>
              <input type="text" class="input" id="botServer" placeholder="play.hypixel.net" required data-testid="input-bot-server">
            </div>
            <div class="form-group">
              <label class="form-label">Version</label>
              <select class="input" id="botVersion" data-testid="select-bot-version">
                <option value="1.20.4">1.20.4</option>
                <option value="1.19.4">1.19.4</option>
                <option value="1.18.2">1.18.2</option>
                <option value="1.16.5">1.16.5</option>
                <option value="1.12.2">1.12.2</option>
                <option value="1.8.9">1.8.9</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Behavior</label>
              <select class="input" id="botBehavior" data-testid="select-bot-behavior">
                <option value="idle">Idle</option>
                <option value="rotate">Rotate</option>
                <option value="jump">Jump</option>
                <option value="random_walk">Random Walk</option>
                <option value="auto_chat">Auto Chat</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-submit-bot">Create Bot</button>
          </form>
        </div>
      `;

      overlay.classList.remove('hidden');
    }

    async function createBot(e) {
      e.preventDefault();
      const name = document.getElementById('botName').value;
      const server = document.getElementById('botServer').value;
      const version = document.getElementById('botVersion').value;
      const behavior = document.getElementById('botBehavior').value;

      try {
        const res = await fetch('/api/bots', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'x-session-id': sessionId
          },
          body: JSON.stringify({ name, server, version, behavior })
        });

        if (res.ok) {
          closeModal();
          showToast('Bot created!', 'success');
          loadBots();
        } else {
          showToast('Failed to create bot', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function startBot(botId) {
      try {
        const res = await fetch(`/api/bots/${botId}/start`, {
          method: 'POST',
          headers: { 'x-session-id': sessionId }
        });

        if (res.ok) {
          showToast('Bot started!', 'success');
          loadBots();
        } else {
          showToast('Failed to start bot', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function stopBot(botId) {
      try {
        const res = await fetch(`/api/bots/${botId}/stop`, {
          method: 'POST',
          headers: { 'x-session-id': sessionId }
        });

        if (res.ok) {
          showToast('Bot stopped', 'success');
          loadBots();
        } else {
          showToast('Failed to stop bot', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function deleteBot(botId) {
      if (!confirm('Are you sure you want to delete this bot?')) return;

      try {
        const res = await fetch(`/api/bots/${botId}`, {
          method: 'DELETE',
          headers: { 'x-session-id': sessionId }
        });

        if (res.ok) {
          showToast('Bot deleted', 'success');
          loadBots();
        } else {
          showToast('Failed to delete bot', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    async function loadTickets() {
      try {
        const res = await fetch('/api/tickets', {
          headers: { 'x-session-id': sessionId }
        });
        const data = await res.json();
        tickets = data.tickets || [];
        renderTicketList();
      } catch (e) {
        document.getElementById('ticketList').innerHTML = '<div class="empty-state"><div class="empty-state-title">Failed to load tickets</div></div>';
      }
    }

    function renderTicketList() {
      const list = document.getElementById('ticketList');

      if (tickets.length === 0) {
        list.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">💬</div>
            <div class="empty-state-title">No tickets yet</div>
            <p>Create a ticket if you need help</p>
          </div>
        `;
        return;
      }

      list.innerHTML = tickets.map(ticket => `
        <div class="ticket-card" onclick="openTicket('${ticket.id}')" data-testid="card-ticket-${ticket.id}">
          <div class="ticket-header">
            <span class="ticket-subject">${ticket.subject}</span>
            <span class="ticket-status ${ticket.status}">${ticket.status}</span>
          </div>
          <div class="ticket-preview">${ticket.messages[ticket.messages.length - 1]?.message || ''}</div>
        </div>
      `).join('');
    }

    function showCreateTicketModal() {
      const modal = document.getElementById('modal');
      const overlay = document.getElementById('modalOverlay');

      modal.innerHTML = `
        <div class="modal-header">
          <h2 class="modal-title font-display">Create New Ticket</h2>
          <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
          <form onsubmit="createTicket(event)">
            <div class="form-group">
              <label class="form-label">Subject</label>
              <input type="text" class="input" id="ticketSubject" placeholder="What do you need help with?" required data-testid="input-ticket-subject">
            </div>
            <div class="form-group">
              <label class="form-label">Message</label>
              <textarea class="input" id="ticketMessage" rows="4" placeholder="Describe your issue..." required data-testid="input-ticket-message"></textarea>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;" data-testid="button-submit-ticket">Submit Ticket</button>
          </form>
        </div>
      `;

      overlay.classList.remove('hidden');
    }

    async function createTicket(e) {
      e.preventDefault();
      const subject = document.getElementById('ticketSubject').value;
      const message = document.getElementById('ticketMessage').value;

      try {
        const res = await fetch('/api/tickets', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'x-session-id': sessionId
          },
          body: JSON.stringify({ subject, message })
        });

        if (res.ok) {
          closeModal();
          showToast('Ticket created!', 'success');
          loadTickets();
        } else {
          showToast('Failed to create ticket', 'error');
        }
      } catch (e) {
        showToast('Connection error', 'error');
      }
    }

    function openTicket(ticketId) {
      const ticket = tickets.find(t => t.id === ticketId);
      if (!ticket) return;

      const modal = document.getElementById('modal');
      const overlay = document.getElementById('modalOverlay');

      modal.innerHTML = `
        <div class="modal-header">
          <h2 class="modal-title font-display">${ticket.subject}</h2>
          <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="chat-messages" style="max-height: 300px; padding: 20px;">
          ${ticket.messages.map(msg => `
            <div class="chat-message ${msg.from === currentUser.username ? 'own' : ''}">
              <div class="chat-message-avatar">${msg.from.charAt(0)}</div>
              <div class="chat-message-content">
                <div class="chat-message-sender">${msg.from} ${msg.isAdmin ? '(Staff)' : ''}</div>
                <div class="chat-message-text">${msg.message}</div>
                <div class="chat-message-time">${new Date(msg.timestamp).toLocaleString()}</div>
              </div>
            </div>
          `).join('')}
        </div>
        ${ticket.status === 'open' ? `
          <div class="chat-input-area">
            <input type="text" class="input" id="ticketReply" placeholder="Type your message..." data-testid="input-ticket-reply">
            <button class="btn btn-primary" onclick="replyTicket('${ticketId}')" data-testid="button-send-reply">Send</button>
          </div>
        ` : ''}
      `;

      overlay.classList.remove('hidden');
    }

    async function replyTicket(ticketId) {
      const message = document.getElementById('ticketReply').value;
      if (!message) return;

      try {
        const res = await fetch(`/api/tickets/${ticketId}/reply`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'x-session-id': sessionId
          },
          body: JSON.stringify({ message })
        });

        if (res.ok) {
          loadTickets();
          openTicket(ticketId);
        }
      } catch (e) {
        showToast('Failed to send reply', 'error');
      }
    }

    async function loadAdminUsers() {
      const content = document.getElementById('adminContent');
      content.innerHTML = '<div class="card"><p>Loading users...</p></div>';

      try {
        const res = await fetch('/api/admin/users', {
          headers: { 'x-session-id': sessionId }
        });
        const data = await res.json();

        content.innerHTML = `
          <div class="table-container">
            <table class="table">
              <thead>
                <tr>
                  <th>Username</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                ${data.users.map(u => `
                  <tr>
                    <td>${u.username}</td>
                    <td class="font-mono">${u.email}</td>
                    <td><span class="badge badge-${u.role === 'owner' ? 'owner' : u.role === 'admin' ? 'admin' : 'member'}">${u.role}</span></td>
                    <td>${u.banned ? '<span style="color: var(--danger);">Banned</span>' : '<span style="color: var(--success);">Active</span>'}</td>
                    <td>
                      ${u.role !== 'owner' ? `
                        ${u.banned ? `
                          <button class="btn btn-small btn-secondary" onclick="adminUnban('${u.id}')">Unban</button>
                        ` : `
                          <button class="btn btn-small btn-danger" onclick="adminBan('${u.id}')">Ban</button>
                        `}
                        <button class="btn btn-small btn-secondary" onclick="adminHwidReset('${u.id}')">Reset HWID</button>
                      ` : ''}
                    </td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>
        `;
      } catch (e) {
        content.innerHTML = '<div class="card"><p style="color: var(--danger);">Failed to load users</p></div>';
      }
    }

    async function adminBan(userId) {
      try {
        await fetch(`/api/admin/ban/${userId}`, {
          method: 'POST',
          headers: { 'x-session-id': sessionId }
        });
        showToast('User banned', 'success');
        loadAdminUsers();
      } catch (e) {
        showToast('Failed to ban user', 'error');
      }
    }

    async function adminUnban(userId) {
      try {
        await fetch(`/api/admin/unban/${userId}`, {
          method: 'POST',
          headers: { 'x-session-id': sessionId }
        });
        showToast('User unbanned', 'success');
        loadAdminUsers();
      } catch (e) {
        showToast('Failed to unban user', 'error');
      }
    }

    async function adminHwidReset(userId) {
      try {
        await fetch(`/api/admin/hwid-reset/${userId}`, {
          method: 'POST',
          headers: { 'x-session-id': sessionId }
        });
        showToast('HWID reset', 'success');
        loadAdminUsers();
      } catch (e) {
        showToast('Failed to reset HWID', 'error');
      }
    }

    async function loadAdminInvites() {
      const content = document.getElementById('adminContent');
      content.innerHTML = '<div class="card"><p>Loading invites...</p></div>';

      try {
        const res = await fetch('/api/admin/invites', {
          headers: { 'x-session-id': sessionId }
        });
        const data = await res.json();

        content.innerHTML = `
          <div class="card" style="margin-bottom: 20px;">
            <button class="btn btn-primary" onclick="generateInvite()" data-testid="button-generate-invite">Generate New Invite Code</button>
          </div>
          <div class="table-container">
            <table class="table">
              <thead>
                <tr>
                  <th>Code</th>
                  <th>Created</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                ${data.invites.map(inv => `
                  <tr>
                    <td class="font-mono">${inv.code}</td>
                    <td>${new Date(inv.createdAt).toLocaleDateString()}</td>
                    <td>${inv.usedBy ? `<span style="color: var(--text-muted);">Used by ${inv.usedBy}</span>` : '<span style="color: var(--success);">Available</span>'}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>
        `;
      } catch (e) {
        content.innerHTML = '<div class="card"><p style="color: var(--danger);">Failed to load invites</p></div>';
      }
    }

    async function generateInvite() {
      try {
        const res = await fetch('/api/admin/invite', {
          method: 'POST',
          headers: { 'x-session-id': sessionId }
        });
        const data = await res.json();
        showToast(`Invite code: ${data.code}`, 'success');
        loadAdminInvites();
      } catch (e) {
        showToast('Failed to generate invite', 'error');
      }
    }

    async function loadAdminTickets() {
      const content = document.getElementById('adminContent');
      await loadTickets();

      content.innerHTML = `
        <div class="ticket-list">
          ${tickets.length > 0 ? tickets.map(ticket => `
            <div class="ticket-card" onclick="openTicket('${ticket.id}')">
              <div class="ticket-header">
                <span class="ticket-subject">${ticket.subject}</span>
                <span class="ticket-status ${ticket.status}">${ticket.status}</span>
              </div>
              <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">From: ${ticket.username}</div>
              <div class="ticket-preview">${ticket.messages[ticket.messages.length - 1]?.message || ''}</div>
            </div>
          `).join('') : '<div class="empty-state"><div class="empty-state-title">No tickets</div></div>'}
        </div>
      `;
    }

    function loadOwnerUsers() { loadAdminUsers(); document.getElementById('adminContent')?.setAttribute('id', 'ownerContent'); loadAdminUsers(); }
    function loadOwnerAdmins() { loadAdminUsers(); }
    function loadOwnerInvites() { document.getElementById('adminContent')?.setAttribute('id', 'ownerContent'); loadAdminInvites(); }

    async function loadOwnerLogs() {
      const content = document.getElementById('ownerContent');
      content.innerHTML = '<div class="card"><p>Loading logs...</p></div>';

      try {
        const res = await fetch('/api/owner/logs', {
          headers: { 'x-session-id': sessionId }
        });
        const data = await res.json();

        content.innerHTML = `
          <div class="table-container">
            <table class="table">
              <thead>
                <tr>
                  <th>Time</th>
                  <th>Action</th>
                  <th>Details</th>
                </tr>
              </thead>
              <tbody>
                ${data.logs.map(log => `
                  <tr>
                    <td class="font-mono">${new Date(log.timestamp).toLocaleString()}</td>
                    <td><span class="badge badge-member">${log.action}</span></td>
                    <td>${log.details}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>
        `;
      } catch (e) {
        content.innerHTML = '<div class="card"><p style="color: var(--danger);">Failed to load logs</p></div>';
      }
    }

    function closeModal() {
      document.getElementById('modalOverlay').classList.add('hidden');
    }

    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');

      toast.className = `toast ${type}`;
      toastMessage.textContent = message;
      toast.classList.remove('hidden');

      setTimeout(() => {
        toast.classList.add('hidden');
      }, 3000);
    }

    document.getElementById('modalOverlay').addEventListener('click', (e) => {
      if (e.target.id === 'modalOverlay') closeModal();
    });

    init();
  </script>
</body>
</html>
